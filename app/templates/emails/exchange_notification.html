{% extends "base.html" %}

{% block title %}Actualizacion de Intercambio - Reuse{% endblock %}

{% block content %}
<h2>Hola {{ user_name }},</h2>

<p>Tienes una actualizacion en tu intercambio:</p>

<div class="info-box">
    <p><strong>{{ status_message }}</strong></p>
</div>

<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
    <tr>
        <td style="padding: 10px; border-bottom: 1px solid #eee; color: #666;">Oferta:</td>
        <td style="padding: 10px; border-bottom: 1px solid #eee;"><strong>{{ offer_title }}</strong></td>
    </tr>
    <tr>
        <td style="padding: 10px; border-bottom: 1px solid #eee; color: #666;">Usuario:</td>
        <td style="padding: 10px; border-bottom: 1px solid #eee;"><strong>{{ other_user_name }}</strong></td>
    </tr>
    <tr>
        <td style="padding: 10px; color: #666;">Estado:</td>
        <td style="padding: 10px;">
            {% if exchange_status == 'completed' %}
            <span style="color: #2E7D32; font-weight: bold;">Completado</span>
            {% elif exchange_status == 'cancelled' %}
            <span style="color: #D32F2F; font-weight: bold;">Cancelado</span>
            {% elif exchange_status == 'pending' %}
            <span style="color: #FF9800; font-weight: bold;">Pendiente</span>
            {% elif exchange_status == 'accepted' %}
            <span style="color: #1976D2; font-weight: bold;">Aceptado</span>
            {% elif exchange_status == 'in_progress' %}
            <span style="color: #7B1FA2; font-weight: bold;">En progreso</span>
            {% else %}
            <span>{{ exchange_status }}</span>
            {% endif %}
        </td>
    </tr>
</table>

{% if exchange_url %}
<p style="text-align: center;">
    <a href="{{ exchange_url }}" class="btn">Ver detalles del intercambio</a>
</p>
{% endif %}

{% if exchange_status == 'completed' %}
<div class="info-box">
    <p>Felicidades! Has completado un intercambio exitoso. No olvides valorar la experiencia.</p>
</div>
{% endif %}

<p>Saludos,<br>
<strong>El equipo de Reuse</strong></p>
{% endblock %}
